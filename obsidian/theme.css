/*
Lumen Theme for Obsidian
A theme for deep work, lit by natural warmth.
By TobiasDev
*/

/* LUMEN THEME — OBSIDIAN DARK MODE */
.theme-dark {
  /* Background Colors */
  --background-primary: #1B241B;     /* Muted sage shadow */
  --background-secondary: #202C21;   /* Slightly lighter surface */
  --background-tertiary: #161E16;    /* Depth and layering */
  --background-active: #2A3729;      /* Selected/active panel */
  --background-inactive: #121A12;    /* Dimmed, restful layer */
  --background-modifier-border: #1A241A;
  --background-modifier-form-field: #202C21;
  --background-modifier-form-field-highlighted: #1E2C1F;
  --background-modifier-box-shadow: rgba(0, 0, 0, 0.3);
  --background-modifier-success: #A3C5A5;
  --background-modifier-error: #E16C5B;
  --background-modifier-error-hover: #D94F45;
  --background-modifier-cover: rgba(18, 26, 20, 0.8);
  --background-secondary-alt: #0E160F;
  
  /* Text Colors */
  --text-normal: #E8E3D1;            /* Warm ivory */
  --text-secondary: #B9B39E;         /* Gentle beige-gray */
  --text-muted: #6C7C6E;             /* Quiet sage tone */
  --text-error: #E17860;             /* Ember red */
  --text-accent: #E4B463;            /* Signature amber */
  --text-accent-hover: #D8B06A;
  --text-on-accent: #1B241B;
  --text-selection: rgba(51, 67, 51, 0.6);
  
  /* Interactive Elements */
  --interactive-normal: #202C21;
  --interactive-hover: #2A3729;
  --interactive-accent: #E4B463;
  --interactive-accent-hover: #D8B06A;
  --interactive-success: #98C5A0;
  
  /* Scrollbar */
  --scrollbar-bg: #1B241B;
  --scrollbar-thumb-bg: #465845;
  --scrollbar-active-thumb-bg: #E4B463;
  
  /* Title Bar */
  --titlebar-background: #1B241B;
  --titlebar-background-focused: #1B241B;
  --status-bar-background: #1C271C;
  --divider-color: #1E281F;
  
  /* Tab Colors */
  --tab-background-active: #1E2C1F;
  --tab-text-color-active: #E8E3D1;
  --tab-text-color-focused-active: #FFD67C;
  --tab-text-color-focused-active-current: #FFD67C;
  
  
  /* Syntax Highlighting */
  --code-normal: #E8E3D1;
  --code-comment: #6C7C6E;
  --code-function: #BFD5AF;
  --code-keyword: #D8C58E;
  --code-string: #E7C287;
  --code-number: #D8B06A;
  --code-type: #D4C99B;
  --code-constant: #E4B463;
  --code-parameter: #C8BBA2;
  --code-operator: #A6AF96;
  --code-bracket: #A6AF96;
  
  /* Additional Colors */
  --color-red: #E17860;
  --color-orange: #D8B06A;
  --color-yellow: #E4B463;
  --color-green: #98C5A0;
  --color-cyan: #B4C7B0;
  --color-blue: #B4C7B0;
  --color-purple: #C9B89C;
  --color-pink: #E8C48F;
  
  /* Link Colors */
  --link-color: #E4B463;
  --link-color-hover: #D8B06A;
  --link-external-color: #E17860;
  --link-unresolved-color: #6C7C6E;
  
  /* Selection & Highlights */
  --text-highlight-bg: #334333;
  --text-highlight-bg-active: rgba(228, 180, 99, 0.25);
  --cursor-color: #E4B463;
  
  /* Font Family */
  --font-interface: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-text: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-monospace: 'IBM Plex Mono', 'Courier New', monospace;
}

/* Optional Light Theme (soft natural tones, retains Lumen’s balance) */
.theme-light {
  --background-primary: #F3F6F4;
  --background-secondary: #E8EDE8;
  --background-tertiary: #DDE3DD;
  --text-normal: #1C241D;
  --text-muted: #4B554C;
  --text-faint: #8B968B;
  --text-accent: #E5A94D;
  --interactive-accent: #E5A94D;
  --link-color: #E5A94D;
}

/* Enhanced Scrollbar */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-bg);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-bg);
  border-radius: 0;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-active-thumb-bg);
}

/* Sharp Corners - Remove roundness throughout */
.modal,
.menu,
.suggestion-container,
.dropdown,
.prompt,
.notice,
button,
input,
textarea,
.search-input,
.tag,
.checkbox-container,
.tree-item-self {
  border-radius: 0 !important;
}

/* Editor Enhancements */
.markdown-source-view.mod-cm6 .cm-scroller {
  font-family: var(--font-text);
}

.markdown-source-view.mod-cm6 .cm-line {
  padding-left: 8px;
}

/* Code Blocks */
.markdown-source-view.mod-cm6 .cm-line.HyperMD-codeblock,
pre code {
  font-family: var(--font-monospace);
  background-color: var(--background-tertiary);
  border-radius: 0;
}

/* Headers */
.cm-header-1,
.markdown-preview-view h1 {
  color: var(--code-keyword);
  font-weight: 600;
}

.cm-header-2,
.markdown-preview-view h2 {
  color: var(--code-function);
  font-weight: 600;
}

.cm-header-3,
.markdown-preview-view h3 {
  color: var(--code-property);
  font-weight: 600;
}

.cm-header-4,
.markdown-preview-view h4,
.cm-header-5,
.markdown-preview-view h5,
.cm-header-6,
.markdown-preview-view h6 {
  color: var(--text-accent);
  font-weight: 600;
}

/* Links */
.cm-link,
.cm-hmd-internal-link,
.markdown-preview-view a {
  color: var(--link-color);
  text-decoration: none;
}

.cm-link:hover,
.cm-hmd-internal-link:hover,
.markdown-preview-view a:hover {
  color: var(--link-color-hover);
  text-decoration: underline;
}

/* Bold and Italic */
.cm-strong,
.markdown-preview-view strong {
  color: var(--code-value);
  font-weight: 600;
}

.cm-em,
.markdown-preview-view em {
  color: var(--code-string);
  font-style: italic;
}

/* Lists */
.cm-formatting-list,
.markdown-preview-view ul,
.markdown-preview-view ol {
  color: var(--text-accent);
}

/* Blockquotes */
.cm-quote,
.markdown-preview-view blockquote {
  color: var(--text-muted);
  border-left: 3px solid var(--text-accent);
  padding-left: 12px;
}

/* Tags */
.cm-tag,
.tag {
  color: var(--code-tag);
  background-color: var(--background-tertiary);
  padding: 2px 6px;
  border-radius: 0;
}

/* Selection */
::selection {
  background-color: var(--text-selection);
}

/* Active Line */
.cm-active.cm-line {
  background-color: rgba(58, 58, 78, 0.3);
}

/* Search Results */
.search-result-file-match {
  background-color: var(--text-highlight-bg);
}

.search-result-file-match:hover {
  background-color: var(--text-highlight-bg-active);
}

/* File Explorer */
.nav-file-title,
.nav-folder-title {
  border-radius: 0;
}

.nav-file-title.is-active {
  background-color: var(--tab-background-active);
  color: var(--tab-text-color-active);
}

/* Graph View */
.graph-view.color-fill-tag {
  color: var(--code-tag);
}

.graph-view.color-fill-attachment {
  color: var(--code-value);
}

.graph-view.color-fill-unresolved {
  color: var(--link-unresolved-color);
}

/* Callouts */
.callout {
  border-radius: 0;
  border-left-width: 4px;
}

.callout[data-callout="info"] {
  border-left-color: var(--color-blue);
}

.callout[data-callout="warning"] {
  border-left-color: var(--color-yellow);
}

.callout[data-callout="error"],
.callout[data-callout="danger"] {
  border-left-color: var(--color-red);
}

.callout[data-callout="success"] {
  border-left-color: var(--color-green);
}

/* Tables */
.markdown-preview-view table {
  border-collapse: collapse;
}

.markdown-preview-view th {
  background-color: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
  padding: 8px;
  font-weight: 600;
}

.markdown-preview-view td {
  border: 1px solid var(--background-modifier-border);
  padding: 8px;
}

/* Checkboxes */
.task-list-item-checkbox {
  border-radius: 0;
  border: 2px solid var(--text-muted);
}

.task-list-item-checkbox:checked {
  background-color: var(--interactive-success);
  border-color: var(--interactive-success);
}

/* Focus Mode Enhancement */
.markdown-source-view.is-readable-line-width .cm-content,
.markdown-preview-view.is-readable-line-width .markdown-preview-sizer {
  max-width: 800px;
  padding: 40px 80px;
}

/* Minimal Distraction */
.workspace-leaf-content[data-type='empty'] .view-content {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-faint);
}
